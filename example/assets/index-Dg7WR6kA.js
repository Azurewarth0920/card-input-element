(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();const d={4:"visa",5:"mastercard",34:"amex",37:"amex",6:"discover",30:"diners",36:"diners",38:"diners",35:"jcb"};function f(t){const e=t.slice(0,1),i=t.slice(0,2);return d[e]||d[i]}function c(t){t=t.replace(/\D/g,"");const e=f(t);let i;switch(e){case"amex":case"diners":i=(t.match(/^(.{1,4})(.{0.6}(.*))/)||[]).slice(1).filter(Boolean);break;default:i=t.match(/.{1,4}/g)||[]}return i.join(" ")}function v(t){const e=t.target,{selectionStart:i,selectionEnd:r}=e;if(i===null||r==null)return;e.value.slice(i,r)===" "&&(e.selectionEnd=e.selectionStart)}let a="";function m(t){a=t.target.value}function y(t){const e=t.target,i=e.selectionStart,r=a.split(" ").length-1,n=c(e.value).split(" ").length-1,o=a.replace(/\D/g,"")===e.value.replace(/\D/g,"");if(r===n-1&&o){const l=e.selectionStart;if(l===null)return;const u=l-1,g=`${e.value.slice(0,u)}${e.value.slice(l)}`;e.value=c(g),e.selectionStart=e.selectionEnd=u;return}if(i===null)return;const s=c(e.value.slice(0,i)).length,p=e.value.charAt(i-1)===" "?1:0;e.value=c(e.value),e.selectionStart=e.selectionEnd=s+p}function h(t){document.querySelector("#type").innerHTML=f(t.target.value)||""}function S(t){t.addEventListener("select",v),t.addEventListener("beforeinput",m),t.addEventListener("input",y),t.addEventListener("input",h)}document.querySelector("#app").innerHTML=`
  <div>
    <input id="input" maxlength="19" />
    <span id="type"></span>
  </div>
`;S(document.querySelector("#input"));
